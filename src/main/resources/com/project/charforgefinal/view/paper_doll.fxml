<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>

<BorderPane styleClass="root" stylesheets="@../css/style.css" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.project.charforgefinal.controller.PaperDollController">

    <!-- MAIN PAGE -->
    <center>
        <HBox alignment="CENTER" spacing="30" style="-fx-padding: 20;">

            <!-- PAPER DOLL UI -->
            <VBox alignment="CENTER" spacing="10">
                <StackPane maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="500.0" prefWidth="400.0" styleClass="paper-doll-container">

                    <!-- Silhouette -->
                    <ImageView fx:id="imgSilhouette" fitHeight="480" fitWidth="380" opacity="0.5" preserveRatio="true">
                        <Image url="@../images/silhouette_male.png" />
                    </ImageView>

                    <!-- Slots -->
                    <Pane prefHeight="500.0" prefWidth="400.0">
                        <!-- HEAD -->
                        <StackPane fx:id="slotHead" layoutX="173.0" layoutY="14.0" prefHeight="50.0" prefWidth="50.0" styleClass="equipment-slot">
                            <Label styleClass="slot-label" text="HEAD" />
                            <ImageView fx:id="imgHead" fitHeight="40" fitWidth="40" visible="false" />
                        </StackPane>

                        <!-- UTILITY -->
                        <StackPane fx:id="slotUtility" layoutX="289.0" layoutY="311.0" prefHeight="80.0" prefWidth="83.0" styleClass="equipment-slot">
                            <Label styleClass="slot-label" text="UTILITY" />
                            <ImageView fx:id="imgUtility" fitHeight="40" fitWidth="40" visible="false" />
                        </StackPane>

                        <!-- BODY -->
                        <StackPane fx:id="slotBody" layoutX="153.0" layoutY="116.0" maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="94.0" prefWidth="99.0" styleClass="equipment-slot">
                            <Label styleClass="slot-label" text="BODY" />
                            <ImageView fx:id="imgBody" fitHeight="119.0" fitWidth="68.0" visible="false" />
                        </StackPane>

                        <!-- MAIN HAND -->
                        <StackPane fx:id="slotMainHand" layoutX="16.0" layoutY="150.0" maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="100.0" prefWidth="84.0" styleClass="equipment-slot">
                            <Label styleClass="slot-label" text="MAIN" />
                            <ImageView fx:id="imgMainHand" fitHeight="90" fitWidth="50" visible="false" />
                        </StackPane>

                        <!-- OFFHAND -->
                        <StackPane fx:id="slotOffHand" layoutX="300.0" layoutY="150.0" maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="100.0" prefWidth="84.0" styleClass="equipment-slot">
                            <Label styleClass="slot-label" text="OFFHAND" />
                            <ImageView fx:id="imgOffHand" fitHeight="90" fitWidth="50" visible="false" />
                        </StackPane>

                        <!-- LEGS -->
                        <StackPane fx:id="slotLegs" layoutX="167.0" layoutY="328.0" prefHeight="70.0" prefWidth="68.0" styleClass="equipment-slot">
                            <Label styleClass="slot-label" text="LEGS" />
                            <ImageView fx:id="imgLegs" fitHeight="50" fitWidth="40" visible="false" />
                        </StackPane>
                    </Pane>
                </StackPane>
            </VBox>

            <!-- STATS PANEL -->
            <VBox alignment="TOP_CENTER" maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="500" prefWidth="250" spacing="10" styleClass="menu-panel">
                <padding>
                    <Insets bottom="20" left="20" right="20" top="20" />
                </padding>

                <!-- Header Info -->
                <Label fx:id="lblName" style="-fx-font-size: 18px;" styleClass="fantasy-header" text="CHARACTER NAME" />
                <Label fx:id="lblRaceClass" style="-fx-font-size: 14px;" styleClass="fantasy-lore" text="Orc Warrior" />

                <Separator opacity="0.3" />

                <!-- Main Stats Grid -->
                <GridPane hgap="10" maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="168.0" prefWidth="230.0" vgap="10" HBox.hgrow="ALWAYS">
                    <columnConstraints>
                        <ColumnConstraints percentWidth="60" />
                        <ColumnConstraints halignment="RIGHT" percentWidth="40" />

                    </columnConstraints>

                    <Label styleClass="stat-label-name" text="HP" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                    <Label fx:id="lblHp" styleClass="stat-label-value" text="110 (100, +10)" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                    <Label styleClass="stat-label-name" text="ARMOR" GridPane.rowIndex="1" />
                    <Label fx:id="lblAp" styleClass="stat-label-value" text="10 (5, +5)" GridPane.columnIndex="1" GridPane.rowIndex="1" />

                    <Label styleClass="stat-label-name" text="ATK" GridPane.rowIndex="2" />
                    <Label fx:id="lblAtk" styleClass="stat-label-value" text="10 (5, +5)" GridPane.columnIndex="1" GridPane.rowIndex="2" />


                    <!-- STR -->
                    <Label styleClass="stat-label-name" text="STRENGTH" GridPane.rowIndex="3" />
                    <Label fx:id="lblTotalStr" styleClass="stat-label-value" text="10 (5, +5)" GridPane.columnIndex="1" GridPane.rowIndex="3" />

                    <!-- DEX -->
                    <Label styleClass="stat-label-name" text="DEXTERITY" GridPane.rowIndex="4" />
                    <Label fx:id="lblTotalDex" styleClass="stat-label-value" text="8 (6, +2)" GridPane.columnIndex="1" GridPane.rowIndex="4" />

                    <!-- INT -->
                    <Label styleClass="stat-label-name" text="INTELLIGENCE" GridPane.rowIndex="5" />
                    <Label fx:id="lblTotalInt" styleClass="stat-label-value" text="5 (3, +2)" GridPane.columnIndex="1" GridPane.rowIndex="5" />

               <rowConstraints>
                  <RowConstraints />
                  <RowConstraints />
                  <RowConstraints />
                  <RowConstraints minHeight="10.0" prefHeight="30.0" />
                  <RowConstraints minHeight="10.0" prefHeight="30.0" />
                  <RowConstraints minHeight="10.0" prefHeight="30.0" />
               </rowConstraints>
                </GridPane>

                <Separator opacity="0.3" />

                <!-- Weight info -->
                <VBox alignment="CENTER_LEFT" spacing="5">
                    <Label styleClass="fantasy-lore" text="WEIGHT CAPACITY" />
                    <!-- Progress Bar -->
                    <ProgressBar fx:id="progressWeight" prefWidth="210" progress="0.4" styleClass="weight-bar" />
                    <HBox alignment="CENTER_RIGHT">
                        <Label fx:id="lblWeightVal" style="-fx-font-size: 12px;" styleClass="stat-label-value" text="25.0 / 60.0 kg" />
                    </HBox>
                </VBox>

            </VBox>
        </HBox>
    </center>

    <!-- BOTTOM PAGE: Inventory -->
    <bottom>
        <VBox alignment="CENTER" spacing="10" style="-fx-padding: 0 0 20 0;">
            <Label styleClass="fantasy-header" text="INVENTORY" />

            <!-- Gridpane -->
            <GridPane fx:id="inventoryGrid" alignment="CENTER" hgap="5" maxHeight="-Infinity" maxWidth="-Infinity" minHeight="150.0" minWidth="-Infinity" prefWidth="500.0" styleClass="inventory-grid" vgap="5">
            </GridPane>
            <Button maxWidth="200" onAction="#handleReturnToMenu" prefHeight="50.0" prefWidth="166.0" style="-fx-background-color: #626c78; -fx-background-radius: 10px; -fx-text-fill: #e0e0e0; -fx-font-family: 'Palatino Linotype'; -fx-font-weight: bold; -fx-font-size: 14px; -fx-cursor: hand; -fx-border-color: #c1b784; -fx-border-radius: 10px" text="RETURN TO MENU" />
        </VBox>
    </bottom>

</BorderPane>
